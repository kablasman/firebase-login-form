<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home page</title>
    <style>
      .nav {
        display: flex;
        list-style: none;
      }
      li {
        margin: 4px;
      }
    </style>
  </head>
  <body>
    <!--this allows you to sign out the user-->
    <nav id="auth">
      <ul class="nav">
        <li><a href="index.html">Home</a></li>
        <li><a href="account.html">Register</a></li>
        <li><a href="login.html">Login</a></li>
      </ul>
    </nav>
    <nav id="no-auth">
      <ul class="nav">
        <li><a href="index.html">Home</a></li>
        <li><a href="register.html">Register</a></li>
        <li><a href="login.html">Login</a></li>
      </ul>
    </nav>

    <h1>Welcome!</h1>

    <input type="submit" value="Creat Account" id="register" />
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-firestore.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

     <script>
      // Your web app's Firebase configuration
      var firebaseConfig = {
        apiKey: "AIzaSyC7pQfTkot-WJnlzuCecpi2pTj-MfPV5FI",
        authDomain: "project-1-kblasman.firebaseapp.com",
        projectId: "project-1-kblasman",
        storageBucket: "project-1-kblasman.appspot.com",
        messagingSenderId: "686950021635",
        appId: "1:686950021635:web:bcf634d0fba188436f2c36"
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {

        const auth = document.getElementById("auth")
        const noAuth = document.getElementById("no-auth")

        firebase.auth().onAuthStateChanged(function (user) {
          console.log("user", user);

          // if user exists we are logged in
          if (user) {
            auth.style.display = "block";
            noAuth.style.display = "none";
          } else {
            auth.style.display = "none";
            noAuth.style.display = "block";
          }
        });
      });
    </script>
  </body>
</html>